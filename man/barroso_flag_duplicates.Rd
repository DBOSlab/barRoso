% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/barroso_flag_duplicates.R
\name{barroso_flag_duplicates}
\alias{barroso_flag_duplicates}
\title{Flag or Remove Duplicate Specimens}
\usage{
barroso_flag_duplicates(df,
                        rm_duplicates = FALSE)
}
\arguments{
\item{df}{A data frame with biodiversity specimen records.}

\item{rm_duplicates}{Logical; if \code{TRUE}, removes duplicates and retains one record
per duplicated group (default: \code{FALSE}).}
}
\value{
A data frame with an added \code{duplicate} column. If \code{rm_duplicates = TRUE},
duplicated entries are removed based on standardized logic.
}
\description{
Identifies and optionally removes duplicate herbarium specimen records based on
collector name and number, or—when these are missing—by species name and date.
Adds a logical \code{duplicate} column to indicate flagged duplicates.
}
\details{
This function is part of the internal workflow of the \code{barroso} package, supporting
record reconciliation and dataset cleaning. It uses combinations of collector names
(\code{recordedBy}), collection numbers (\code{recordNumber}), and collection dates (\code{year},
\code{month}, \code{day}) to identify duplicate entries. When \code{rm_duplicates = TRUE}, one
record from each duplicated group is retained, and all others are removed.
Specimens missing collector numbers are handled in a separate logic pass using
additional fields (\code{species}, \code{recordedBy}, \code{year}, \code{month}, \code{day}) to detect
duplicates.
}
\examples{
\dontrun{
df <- read.csv("herbarium_data.csv")
df_flagged <- barroso_flag_duplicates(df)
df_clean <- barroso_flag_duplicates(df, rm_duplicates = TRUE)
}

}
\author{
Domingos Cardoso
}
